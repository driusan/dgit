language: go

go:
  - "1.10.x"
  - master

script:
    - echo '##### Verifying formatting'
    - diff -u <(echo -n) <(gofmt -d ./)
    - echo '##### Running tests'
    - go test -v ./...
    - echo '##### Building dgit'`
    - go build
    - echo '##### Running official git basic test suite'
    - chmod u+x run-official-tests.sh
    - ./run-official-tests.sh

